{% extends "panel.html" %}

{% load  static %}

{% block panel-content %}

<div class="row content">

  {% include "includes/reporte-options.html" %}

  <form class="col-12 row g-3" method="GET">
    <div class="col-md-3">
      <label for="provider">Proveedor:</label>
      <div class="input-group">
        <span class="input-group-text"><i class="fi-book"></i></span>
        {{form.provider}}
      </div>
    </div>
    <div class="col-md-3">
      <label for="date_start">Fecha Inicio:</label>
      <div class="input-group">
        <span class="input-group-text"><i class="fi-calendar"></i></span>
        {{form.date_start}}
      </div>
    </div>
    <div class="col-md-3">
      <label for="date_end">Fecha Fin:</label>
      <div class="input-group">
        <span class="input-group-text"><i class="fi-calendar"></i></span>
        {{form.date_end}}
      </div>
    </div>
    <div class="col-md-3 d-flex align-items-end">
      <button type="submit" class="btn btn-primary w-100">Buscar</button>
    </div>
  </form>

  <div class="col-12 mt-4">
    <h4>Total a Pagar: <b style="font-size: 28px;">S/. {{ total_ventas }}</b></h4>
    <table class="table table-hover mt-3">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Producto</th>
          <th>Cantidad</th>
          <th>Precio Compra</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        {% for venta in ventas_liquidacion %}
          <tr>
            <td>{{ venta.sale.date_sale }}</td>
            <td>{{ venta.product.name }}</td>
            <td>{{ venta.count }}</td>
            <td>{{ venta.price_purchase }}</td>
            <td>{{ venta.sub_total }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock panel-content %}
